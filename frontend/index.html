<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ledo Sports Academy - Management System</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <h1>⚽ Ledo Sports Academy</h1>
                </div>
                <nav class="nav" id="nav">
                    <a href="#home" class="nav-link active">Home</a>
                    <a href="#activities" class="nav-link">Activities</a>
                    <a href="#members" class="nav-link">Members</a>
                    <a href="#donations" class="nav-link">Donations</a>
                    <a href="#expenses" class="nav-link">Expenses</a>
                    <a href="#experiences" class="nav-link">Experience Log</a>
                    <a href="#weekly-fees" class="nav-link">Weekly Fees</a>
                    <a href="#gallery" class="nav-link">Gallery</a>
                    <a href="#dashboard" class="nav-link admin-only hidden">Dashboard</a>
                    <a href="#hero-management" class="nav-link admin-only hidden">Hero Management</a>
                    <a href="#" class="nav-link mobile-admin-login" id="mobileAdminLogin">Admin Login</a>
                    <a href="#" class="nav-link mobile-admin-logout admin-only hidden" id="mobileAdminLogout">Logout</a>
                </nav>
                <div class="admin-section">
                    <button class="btn btn--outline hidden" id="adminLoginBtn">Admin Login</button>
                    <button class="btn btn--secondary hidden" id="adminLogoutBtn">Logout</button>
                </div>
                <button class="mobile-menu-toggle" id="mobileMenuToggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Home Section -->
        <section id="home" class="section active">
            <div class="hero-slideshow">
                <div class="slideshow-container">
                    <div class="slides-wrapper" id="slidesWrapper">
                        <!-- Slides will be populated by JavaScript -->
                    </div>
                    <div class="slideshow-indicators" id="slideshowIndicators">
                        <!-- Indicators will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <div class="container">
                <!-- Recent Events Section -->
                <div class="events-section">
                    <div class="events-row">
                        <div class="recent-events-column">
                            <h3>Recent Events</h3>
                            <div class="events-grid" id="recentEventsGrid">
                                <!-- Recent events will be populated by JavaScript -->
                            </div>
                        </div>
                        
                        <div class="upcoming-events-column">
                            <h3>Upcoming Events</h3>
                            <div class="events-grid" id="upcomingEventsGrid">
                                <!-- Upcoming events will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Hero Management Section -->
        <section id="hero-management" class="section">
            <div class="container">
                <div class="section-header">
                    <h3>Hero Slideshow Management</h3>
                    <button class="btn btn--primary admin-only" id="addHeroSlideBtn">Add Hero Slide</button>
                </div>
                
                <div class="hero-slides-grid" id="heroSlidesGrid">
                    <!-- Hero slides will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Dashboard Section -->
        <section id="dashboard" class="section">
            <div class="container">
                <div class="hero">
                    <h2>Admin Dashboard</h2>
                    <p>Welcome to the Ledo Sports Academy admin dashboard. Here you can view key metrics and generate reports.</p>
                </div>

                <div class="dashboard-metrics">
                    <div class="metric-card">
                        <h3>Total Members</h3>
                        <div class="metric-value" id="totalMembers">0</div>
                    </div>
                    <div class="metric-card">
                        <h3>Total Donations</h3>
                        <div class="metric-value" id="totalDonations">₹0</div>
                    </div>
                    <div class="metric-card">
                        <h3>Total Expenses</h3>
                        <div class="metric-value" id="totalExpenses">₹0</div>
                    </div>
                    <div class="metric-card">
                        <h3>Net Balance</h3>
                        <div class="metric-value" id="netBalance">₹0</div>
                    </div>
                </div>

                <div class="dashboard-charts">
                    <div class="chart-container">
                        <h3>Expense Categories</h3>
                        <canvas id="expenseCategoryChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>Weekly Fee Status</h3>
                        <canvas id="weeklyFeeChart"></canvas>
                    </div>
                </div>

                <div class="dashboard-actions">
                    <h3>Generate Reports</h3>
                    <div class="action-buttons">
                        <button class="btn btn--primary" onclick="exportToPDF('financial')">Financial Report</button>
                        <button class="btn btn--primary" onclick="exportToPDF('members')">Members Report</button>
                        <button class="btn btn--primary" onclick="exportToPDF('activities')">Activities Report</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Activities Section -->
        <section id="activities" class="section">
            <div class="container">
                <div class="section-header">
                    <h3>Activities & Events</h3>
                    <button class="btn btn--primary admin-only" id="addActivityBtn">Add Activity</button>
                </div>
                
                <div class="activities-grid" id="activitiesGrid">
                    <!-- Activities will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Members Section -->
        <section id="members" class="section">
            <div class="container">
                <div class="section-header">
                    <h3>Team Members</h3>
                    <button class="btn btn--primary admin-only" id="addMemberBtn">Add Member</button>
                </div>
                
                <div class="members-grid" id="membersGrid">
                    <!-- Members will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Donations Section -->
        <section id="donations" class="section">
            <div class="container">
                <div class="section-header">
                    <h3>Donations</h3>
                    <button class="btn btn--primary admin-only" id="addDonationBtn">Add Donation</button>
                </div>
                
                <div class="donations-grid" id="donationsGrid">
                    <!-- Donations will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Expenses Section -->
        <section id="expenses" class="section">
            <div class="container">
                <div class="section-header">
                    <h3>Expenses</h3>
                    <button class="btn btn--primary admin-only" id="addExpenseBtn">Add Expense</button>
                </div>
                
                <div class="expenses-grid" id="expensesGrid">
                    <!-- Expenses will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Experiences Section -->
        <section id="experiences" class="section">
            <div class="container">
                <div class="section-header">
                    <h3>Experience Log</h3>
                    <button class="btn btn--primary admin-only" id="addExperienceBtn">Add Experience</button>
                </div>
                
                <div class="experiences-timeline" id="experiencesTimeline">
                    <!-- Experiences will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Weekly Fees Section -->
        <section id="weekly-fees" class="section">
            <div class="container">
                <div class="section-header">
                    <h3>Weekly Fees</h3>
                    <button class="btn btn--primary admin-only" id="addWeeklyFeeBtn">Add Weekly Fee</button>
                </div>
                
                <div class="weekly-fees-grid" id="weeklyFeesGrid">
                    <!-- Weekly fees will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Gallery Section -->
        <section id="gallery" class="section">
            <div class="container">
                <div class="section-header">
                    <h3>Photo Gallery</h3>
                    <button class="btn btn--primary admin-only" id="addGalleryItemBtn">Add Photo</button>
                </div>
                
                <div class="top5-gallery-container">
                    <h4>Featured Photos</h4>
                    <div class="top5-gallery" id="top5Gallery">
                        <!-- Top 5 gallery items will be populated by JavaScript -->
                    </div>
                </div>
                
                <div class="gallery-grid" id="galleryGrid">
                    <!-- Gallery items will be populated by JavaScript -->
                </div>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <div class="modal hidden" id="adminLoginModal">
        <div class="modal-content">
            <h3>Admin Login</h3>
            <form id="adminLoginForm">
                <div class="form-group">
                    <label class="form-label">Username</label>
                    <input type="text" class="form-control" id="adminUsername" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-control" id="adminPassword" required>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn--outline" id="cancelLoginBtn">Cancel</button>
                    <button type="submit" class="btn btn--primary">Login</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal hidden" id="heroSlideModal">
        <div class="modal-content">
            <h3 id="heroModalTitle">Add Hero Slide</h3>
            <form id="heroSlideForm">
                <div class="form-group">
                    <label class="form-label">Title</label>
                    <input type="text" class="form-control" id="heroTitle" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Subtitle</label>
                    <input type="text" class="form-control" id="heroSubtitle" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea class="form-control" id="heroDescription" required></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Background Image URL</label>
                    <input type="url" class="form-control" id="heroBackgroundImage" required>
                    <small class="form-text">Please enter a valid image URL (http:// or https://)</small>
                </div>
                <div class="form-group">
                    <label class="form-label">CTA Text</label>
                    <input type="text" class="form-control" id="heroCtaText" required>
                </div>
                <div class="form-group">
                    <label class="form-label">CTA Link (Section ID)</label>
                    <input type="text" class="form-control" id="heroCtaLink" required>
                    <small class="form-text">e.g., #members, #activities, #donations</small>
                </div>
                <div class="form-group">
                    <label class="form-label">Redirect URL (Optional)</label>
                    <input type="url" class="form-control" id="heroRedirectUrl">
                    <small class="form-text">External URL to redirect to when CTA is clicked</small>
                </div>
                <div class="form-group">
                    <label class="form-check-label">
                        <input type="checkbox" class="form-check-input" id="heroOpenNewTab">
                        Open in new tab
                    </label>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn--outline" id="cancelHeroBtn">Cancel</button>
                    <button type="submit" class="btn btn--primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal hidden" id="activityModal">
        <div class="modal-content">
            <h3 id="activityModalTitle">Add Activity</h3>
            <form id="activityForm">
                <div class="form-group">
                    <label class="form-label">Title</label>
                    <input type="text" class="form-control" id="activityTitle" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-control" id="activityDate" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Time</label>
                    <input type="time" class="form-control" id="activityTime" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea class="form-control" id="activityDescription" required></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Image URL</label>
                    <input type="url" class="form-control" id="activityImage" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Status</label>
                    <select class="form-control" id="activityStatus" required>
                        <option value="upcoming">Upcoming</option>
                        <option value="recent">Recent</option>
                        <option value="completed">Completed</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Type</label>
                    <select class="form-control" id="activityType" required>
                        <option value="match">Match</option>
                        <option value="event">Event</option>
                        <option value="training">Training</option>
                        <option value="trial">Trial</option>
                        <option value="tournament">Tournament</option>
                        <option value="workshop">Workshop</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Priority</label>
                    <select class="form-control" id="activityPriority" required>
                        <option value="high">High</option>
                        <option value="medium">Medium</option>
                        <option value="low">Low</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Redirect URL (Optional)</label>
                    <input type="url" class="form-control" id="activityRedirectUrl">
                </div>
                <div class="form-group">
                    <label class="form-check-label">
                        <input type="checkbox" class="form-check-input" id="activityOpenNewTab">
                        Open in new tab
                    </label>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn--outline" id="cancelActivityBtn">Cancel</button>
                    <button type="submit" class="btn btn--primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal hidden" id="memberModal">
        <div class="modal-content">
            <h3 id="memberModalTitle">Add Member</h3>
            <form id="memberForm">
                <div class="form-group">
                    <label class="form-label">Name</label>
                    <input type="text" class="form-control" id="memberName" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-control" id="memberContact" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Phone</label>
                    <input type="tel" class="form-control" id="memberPhone" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Join Date</label>
                    <input type="date" class="form-control" id="memberJoinDate" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Role</label>
                    <input type="text" class="form-control" id="memberRole" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Profile Image URL</label>
                    <input type="url" class="form-control" id="memberImage" required>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn--outline" id="cancelMemberBtn">Cancel</button>
                    <button type="submit" class="btn btn--primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal hidden" id="donationModal">
        <div class="modal-content">
            <h3 id="donationModalTitle">Add Donation</h3>
            <form id="donationForm">
                <div class="form-group">
                    <label class="form-label">Donor Name</label>
                    <input type="text" class="form-control" id="donorName" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Amount (₹)</label>
                    <input type="number" class="form-control" id="donationAmount" min="1" step="1" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-control" id="donationDate" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Purpose</label>
                    <input type="text" class="form-control" id="donationPurpose" required>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn--outline" id="cancelDonationBtn">Cancel</button>
                    <button type="submit" class="btn btn--primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal hidden" id="expenseModal">
        <div class="modal-content">
            <h3 id="expenseModalTitle">Add Expense</h3>
            <form id="expenseForm">
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <input type="text" class="form-control" id="expenseDescription" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Amount (₹)</label>
                    <input type="number" class="form-control" id="expenseAmount" min="1" step="1" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-control" id="expenseDate" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Category</label>
                    <input type="text" class="form-control" id="expenseCategory" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Vendor</label>
                    <input type="text" class="form-control" id="expenseVendor" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Payment Method</label>
                    <input type="text" class="form-control" id="expensePaymentMethod" required>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn--outline" id="cancelExpenseBtn">Cancel</button>
                    <button type="submit" class="btn btn--primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal hidden" id="experienceModal">
        <div class="modal-content">
            <h3 id="experienceModalTitle">Add Experience</h3>
            <form id="experienceForm">
                <div class="form-group">
                    <label class="form-label">Title</label>
                    <input type="text" class="form-control" id="experienceTitle" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-control" id="experienceDate" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea class="form-control" id="experienceDescription" required></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Image URL</label>
                    <input type="url" class="form-control" id="experienceImage" required>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn--outline" id="cancelExperienceBtn">Cancel</button>
                    <button type="submit" class="btn btn--primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal hidden" id="weeklyFeeModal">
        <div class="modal-content">
            <h3 id="weeklyFeeModalTitle">Add Weekly Fee</h3>
            <form id="weeklyFeeForm">
                <div class="form-group">
                    <label class="form-label">Member</label>
                    <select class="form-control" id="feeMemberId" required>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-control" id="feeDate" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Amount (₹)</label>
                    <input type="number" class="form-control" id="feeAmount" min="1" step="1" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Status</label>
                    <select class="form-control" id="feeStatus" required>
                        <option value="paid">Paid</option>
                        <option value="pending">Pending</option>
                        <option value="overdue">Overdue</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn--outline" id="cancelFeeBtn">Cancel</button>
                    <button type="submit" class="btn btn--primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal hidden" id="galleryModal">
        <div class="modal-content">
            <h3 id="galleryModalTitle">Add Photo</h3>
            <form id="galleryForm">
                <div class="form-group">
                    <label class="form-label">Title</label>
                    <input type="text" class="form-control" id="galleryTitle" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Image URL</label>
                    <input type="url" class="form-control" id="galleryUrl" required>
                    <small class="form-text">Please enter a valid image URL (http:// or https://)</small>
                </div>
                <div class="form-group">
                    <label class="form-label">Album/Event (Optional)</label>
                    <input type="text" class="form-control" id="galleryAlbum" placeholder="e.g., Training, Tournament, Awards">
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn--outline" id="cancelGalleryBtn">Cancel</button>
                    <button type="submit" class="btn btn--primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Success/Error Message -->
    <div class="message hidden" id="message">
        <span id="messageText"></span>
    </div>

    <!-- Load API service first -->
    <script src="api.js"></script>
    <!-- Then load the application script -->
    <script src="app-with-api.js"></script>
</body>
</html>
